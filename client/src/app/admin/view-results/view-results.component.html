<section class="wrapper">
  <div class="inner-wrapper" *ngFor="let pollResult of pollResults">
    <h1>{{ pollResult.position.title }}</h1>
    <div class="member-info-wrapper">
      <div class="member-info">
        <p>Name</p>
        <p>Year</p>
        <p>Recieved Votes</p>
        <p *ngIf="pollCount === 1">Action</p>
      </div>
      <div
        class="member-info"
        *ngFor="let memberInfo of pollResult.eligible_member_infos.slice(0, 5)"
      >
        <p>{{ memberInfo.member.name }}</p>
        <p>{{ memberInfo.member.year }}</p>
        <p>{{ memberInfo.vote_recieved }}</p>
        <button
          mat-button
          *ngIf="!memberInfo.member.eligible_for && pollCount === 1"
          (click)="
            onMakeEligible(memberInfo.member._id, pollResult.position._id)
          "
        >
          <span>Make eligible</span>
        </button>
        <button
          mat-button
          (click)="
            onMakeAMemberNotEligible(
              memberInfo.member._id,
              pollResult.position._id
            )
          "
          *ngIf="
            memberInfo.member.eligible_for &&
            memberInfo.member.eligible_for._id === pollResult.position._id &&
            pollCount === 1
          "
          color="warn"
        >
          <span>Remove from eligible</span>
        </button>

        <button
          mat-button
          [disabled]="true"
          color="primary"
          *ngIf="
            memberInfo.member.eligible_for &&
            memberInfo.member.eligible_for._id !== pollResult.position._id &&
            pollCount === 1
          "
        >
          <span>Already eligible</span>
        </button>
      </div>
    </div>
  </div>
</section>
